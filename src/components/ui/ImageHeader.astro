---
import type { ImageMetadata } from 'astro'
import { Picture } from 'astro:assets'

export interface Props {
  title?: string
  imageSrc?: ImageMetadata
  imageAlt?: string
  imageCaption?: string
}

const { title, imageSrc, imageAlt, imageCaption } = Astro.props
---

<header
  class="relative pt-[calc(var(--nav-height)+4rem)] md:pt-[calc(var(--nav-height)+6rem)] lsa lsa-slide-up no-repeat"
>
  {
    title && (
      <h1 class="absolute w-full top-[calc(var(--nav-height)+2rem)] md:top-[calc(var(--nav-height)+4rem)] left-1/2 -translate-x-1/2 text-l drop-shadow-lg text-center uppercase">
        {title}
      </h1>
    )
  }

  {
    imageSrc && imageAlt && (
      <figure>
        <Picture src={imageSrc} formats={['avif', 'webp']} alt={imageAlt} loading="eager" />
        {imageCaption && (
          <figcaption class="py-4 text-2xs text-grey-100">{imageCaption}</figcaption>
        )}
      </figure>
    )
  }
</header>
